import{b as F,h as x,a as G,n as R,w as J,c as K,r as k,s as D,d as m,g as A,x as U,e as S,f as B,p as X,I as C,y as V,z as H,A as P,B as Q,C as L,D as W,F as Z,G as $,J as j,K as ee,L as ae,M as re,N as ne,O as le}from"./l0T6cHFi.js";function ue(s,e){return e}function fe(s,e,r,u){for(var o=[],_=e.length,t=0;t<_;t++)Z(e[t].e,o,!0);var h=_>0&&o.length===0&&r!==null;if(h){var v=r.parentNode;$(v),v.append(r),u.clear(),y(s,e[0].prev,e[_-1].next)}j(o,()=>{for(var p=0;p<_;p++){var a=e[p];h||(u.delete(a.k),y(s,a.prev,a.next)),ee(a.e,!h)}})}function ve(s,e,r,u,o,_=null){var t=s,h={flags:e,items:new Map,first:null};x&&G();var v=null,p=!1,a=J(()=>{var i=r();return le(i)?i:i==null?[]:V(i)});F(()=>{var i=R(a),n=i.length;if(p&&n===0)return;p=n===0;let d=!1;if(x){var f=t.data===K;f!==(n===0)&&(t=k(),D(t),m(!1),d=!0)}if(x){for(var T=null,E,l=0;l<n;l++){if(A.nodeType===8&&A.data===U){t=A,d=!0,m(!1);break}var c=i[l],I=u(c,l);E=Y(A,h,T,null,c,I,l,o,e,r),h.items.set(I,E),T=E}n>0&&D(k())}x||se(i,h,t,o,e,u,r),_!==null&&(n===0?v?S(v):v=B(()=>_(t)):v!==null&&X(v,()=>{v=null})),d&&m(!0),R(a)}),x&&(t=A)}function se(s,e,r,u,o,_,t){var h=s.length,v=e.items,p=e.first,a=p,i,n=null,d=[],f=[],T,E,l,c;for(c=0;c<h;c+=1){if(T=s[c],E=_(T,c),l=v.get(E),l===void 0){var I=a?a.e.nodes_start:r;n=Y(I,e,n,n===null?e.first:n.next,T,E,c,u,o,t),v.set(E,n),d=[],f=[],a=n.next;continue}if(ie(l,T,c),(l.e.f&C)!==0&&S(l.e),l!==a){if(i!==void 0&&i.has(l)){if(d.length<f.length){var w=f[0],g;n=w.prev;var M=d[0],N=d[d.length-1];for(g=0;g<d.length;g+=1)O(d[g],w,r);for(g=0;g<f.length;g+=1)i.delete(f[g]);y(e,M.prev,N.next),y(e,n,M),y(e,N,w),a=w,n=N,c-=1,d=[],f=[]}else i.delete(l),O(l,a,r),y(e,l.prev,l.next),y(e,l,n===null?e.first:n.next),y(e,n,l),n=l;continue}for(d=[],f=[];a!==null&&a.k!==E;)(a.e.f&C)===0&&(i??(i=new Set)).add(a),f.push(a),a=a.next;if(a===null)continue;l=a}d.push(l),n=l,a=l.next}if(a!==null||i!==void 0){for(var b=i===void 0?[]:V(i);a!==null;)(a.e.f&C)===0&&b.push(a),a=a.next;var q=b.length;if(q>0){var z=null;fe(e,b,z,v)}}H.first=e.first&&e.first.e,H.last=n&&n.e}function ie(s,e,r,u){P(s.v,e),s.i=r}function Y(s,e,r,u,o,_,t,h,v,p){var a=(v&ae)!==0,i=(v&re)===0,n=a?i?Q(o):L(o):o,d=(v&W)===0?t:L(t),f={i:d,v:n,k:_,a:null,e:null,prev:r,next:u};try{return f.e=B(()=>h(s,n,d,p),x),f.e.prev=r&&r.e,f.e.next=u&&u.e,r===null?e.first=f:(r.next=f,r.e.next=f.e),u!==null&&(u.prev=f,u.e.prev=f.e),f}finally{}}function O(s,e,r){for(var u=s.next?s.next.e.nodes_start:r,o=e?e.e.nodes_start:r,_=s.e.nodes_start;_!==u;){var t=ne(_);o.before(_),_=t}}function y(s,e,r){e===null?s.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}export{ve as e,ue as i};
