import{t as P,h as B,a as n,b as c}from"../chunks/D0T786_O.js";import{t as C,u as L,$ as q,k as d,l as k,m as $,o as i,j as h,n as u,q as g}from"../chunks/BdVy2I1O.js";import{e as E}from"../chunks/vAJXdrVo.js";import{p as x}from"../chunks/CEkGUXtm.js";import{o as I}from"../chunks/BGZH7JQ1.js";import{d as S}from"../chunks/Drj6_Kw3.js";import{i as U}from"../chunks/DpOeENrT.js";import{I as b,B as D}from"../chunks/DP8b13Oj.js";import{g as W}from"../chunks/D8MtXhNV.js";import{g as Q}from"../chunks/BL8opuJw.js";import{g as z,B as j}from"../chunks/CXUHTjiO.js";class H{async register(t,a,r){return{jwt:"abc",redirect:void 0}}async getUserQuestions(t){return[2,3]}async getQuestions(){return[{key:1,content:"What was the name of your first pet?"},{key:3,content:"What was the make and model of your first car?"},{key:4,content:"What was the name of your elementary school?"},{key:5,content:"What is your favorite book?"}]}async patchUser(t,a,r){return!0}async login(t,a){return{jwt:void 0,redirect:"/challenge"}}async getChallenge(t){return[{key:2,content:"What is your favorite book?"},{key:3,content:"What was the make and model of your first car?"},{key:4,content:"What was the name of your elementary school?"}]}async answerChallenge(t,a,r){return{jwt:"abc",redirect:"/"}}async deleteUser(t,a){}}var M=P('<div class="mx-auto mb-10 mt-20 max-w-2xl"><div class="mb-10"><h3 class="mb-2 mt-4">Login</h3></div> <div><form class="mt-10 grid grid-cols-1 gap-y-8"><!> <!> <br> <!></form></div></div>');function Z(f,t){C(t,!0);let a=Q(),r=$(""),l=$("");I(async()=>{if(a instanceof H)return;k(r,x(await z())),(await a.getChallenge(i(r))).length>0&&W(j+"/challenge")});async function _(e){e.preventDefault();try{let s=await a.login(i(r),i(l));s.jwt&&(document.cookie=S.serialize("jwt",s.jwt,{path:"/",maxAge:60*60}),U.set(!0)),W(j+s.redirect)}catch(s){window.alert("failed! "+s.message)}}var m=M();B(e=>{q.title="Login"});var y=h(d(m),2),p=d(y),v=d(p);b(v,{type:"text",id:"email",children:(e,s)=>{u();var o=c("Email:");n(e,o)},$$slots:{default:!0}});var w=h(v,2);b(w,{type:"password",id:"pass",get value(){return i(l)},set value(e){k(l,x(e))},children:(e,s)=>{u();var o=c("Password");n(e,o)},$$slots:{default:!0}});var A=h(w,4);D(A,{type:"submit",children:(e,s)=>{u();var o=c("Log in");n(e,o)},$$slots:{default:!0}}),g(p),g(y),g(m),E("submit",p,_),n(f,m),L()}export{Z as component};
