import{t as A,h as _,a as h,b as f}from"../chunks/D0T786_O.js";import{t as B,u as C,$ as L,l as y,m as v,o,k as p,j as w,n as k,q as c}from"../chunks/BdVy2I1O.js";import{e as P}from"../chunks/vAJXdrVo.js";import{p as $}from"../chunks/CEkGUXtm.js";import{o as q}from"../chunks/BGZH7JQ1.js";import{d as I}from"../chunks/Drj6_Kw3.js";import{i as S}from"../chunks/DpOeENrT.js";import{I as U,B as D}from"../chunks/wBQbu8wO.js";import{g as b}from"../chunks/BWv1usOB.js";import{g as E}from"../chunks/BWD5dW6K.js";import{g as Q,B as x}from"../chunks/C6fDkkBA.js";class z{async register(t,a){return{jwt:"abc",redirect:void 0}}async getUserQuestions(t){return[2,3]}async getQuestions(){return[{key:1,content:"What was the name of your first pet?"},{key:2,content:"What is the name of the street you grew up on?"},{key:3,content:"What was the make and model of your first car?"},{key:4,content:"What was the name of your elementary school?"},{key:5,content:"What is your favorite book?"}]}async patchUser(t,a,r){return!0}async login(t,a){return{jwt:void 0,redirect:"/challenge"}}async getChallenge(t){return[{key:2,content:"What is the name of the street you grew up on?"},{key:3,content:"What was the make and model of your first car?"},{key:4,content:"What was the name of your elementary school?"}]}async answerChallenge(t,a,r){return{jwt:"abc",redirect:"/"}}async deleteUser(t){}}var H=A('<div class="mx-auto mb-10 mt-20 max-w-2xl"><div class="mb-10"><h3 class="mb-2 mt-4">Login</h3></div> <div><form class="mt-10 grid grid-cols-1 gap-y-8"><!> <br> <!></form></div></div>');function Y(d,t){B(t,!0);let a=E(),r=v(""),n=v("");q(async()=>{if(a instanceof z)return;y(r,$(await Q())),(await a.getChallenge(o(r))).length>0&&b(x+"/challenge")});async function W(e){e.preventDefault();try{let s=await a.login(o(r),o(n));s.jwt&&(document.cookie=I.serialize("jwt",s.jwt,{path:"/",maxAge:60*60}),S.set(!0)),b(x+s.redirect)}catch(s){window.alert("failed! "+s.message)}}var i=H();_(e=>{L.title="Login"});var u=w(p(i),2),m=p(u),g=p(m);U(g,{type:"password",id:"pass",get value(){return o(n)},set value(e){y(n,$(e))},children:(e,s)=>{k();var l=f("Password");h(e,l)},$$slots:{default:!0}});var j=w(g,4);D(j,{type:"submit",children:(e,s)=>{k();var l=f("Log in");h(e,l)},$$slots:{default:!0}}),c(m),c(u),c(i),P("submit",m,W),h(d,i),C()}export{Y as component};
